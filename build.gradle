plugins {
  id 'com.github.johnrengelman.shadow' version '1.2.3'
}
apply plugin: 'java'

jar {
    manifest {
        attributes(
                'Main-Class': 'com.example.helloworld.HelloWorldApplication'
        )
    }
}

shadowJar {
    mergeServiceFiles()
}

repositories {    
    mavenCentral()
}

apply plugin: 'groovy'

dependencies {
    compile 'io.dropwizard:dropwizard-core:1.0.2'

    testCompile(
            'junit:junit:4.12',
            'org.codehaus.groovy:groovy-all:2.4.4',
            'org.codehaus.groovy.modules.http-builder:http-builder:0.7.1',
            'org.spockframework:spock-core:1.0-groovy-2.4'
    )
}

build.dependsOn shadowJar